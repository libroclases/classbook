<div class="container-fluid" style="padding-left: 5%; padding-right: 5%; padding-top: 1%;padding-bottom: 0%"
[style.background-color]="bodybgcolor"
[style.minHeight] = "height">



  <div class="row" [style.opacity]="opacity" style="height:75cap;">
      <div class="col-md-4 mt-4">

    <table class="table table-bordered"  style="display: block; height:75cap; overflow-y: auto;" [style.background-color]="bodybgcolor">
      <thead>
        <tr *ngFor="let l of (lista_curso_nombres$ | async)">
          <td><a class="btn btn-sm" (click)="actualiza_ficha(l.id)">{{l.nombre}}</a></td>
        </tr>
      </thead>
    </table>


      </div>

      <div class="col-sm-8" style="vertical-align:  middle;">

          <!-- Selectores -->
          <div class="row">

            <div class="col-sm-12 pt-3" style="float: right; padding-bottom: 0%; height:100px; ">
              <multi-select
              [tables]="selTables"
              [labels]="tableLabels"

              [ignore-FK-requirements]="ignoreFkRequirements"
              [change-functions]="changeFnsArray"
              [patch-fks-from-storage]="patchFKsFromStorage">
              </multi-select>
          </div>
          </div>
      <div class="row">
         <nav>

          <div class="nav nav-tabs" id="nav-tab" role="tablist" >

            <button class="nav-link active" id="nav-alumno-tab" data-bs-toggle="tab" data-bs-target="#nav-alumno" type="button" role="tab" aria-controls="nav-alumno" aria-selected="true"><p>Alumno</p></button>
            <button class="nav-link" id="nav-apoderado-tab" data-bs-toggle="tab" data-bs-target="#nav-apoderado" type="button" role="tab" aria-controls="nav-apoderado" aria-selected="false"><p>Apoderado</p></button>
            <button class="nav-link" id="nav-matricula-tab" data-bs-toggle="tab" data-bs-target="#nav-matricula" type="button" role="tab" aria-controls="nav-matricula" aria-selected="false"><p>Matricula</p></button>
            <button class="nav-link" id="nav-anotacion-tab" data-bs-toggle="tab" data-bs-target="#nav-anotacion" type="button" role="tab" aria-controls="nav-anotacion" aria-selected="false"><p>Anotaciones</p></button>
          </div>

        </nav>


        <div class="tab-content" id="nav-tabContent">
          <div class="tab-pane fade show active" id="nav-alumno" role="tabpanel" aria-labelledby="nav-alumno-tab"  [style.background-color]="bodybgcolor">
            <table class="table table-bordered table-sm">
              <thead>
                <tr><th colspan="2" style="color:white;" [style.background-color]="tablehead"><em [class]="getBiClass('/fichaalumno')"></em>&nbsp;Ficha Alumno [
                  {{getalumno('apellido1')}} {{getalumno('apellido2')}} {{getalumno('nombre')}}]</th></tr>
              </thead>
              <tbody>
                <tr *ngFor="let a of alumnos | keyvalue"><td>{{alumnos[setAny([a.key])]}}</td><td>{{getalumno(a.key)}}</td></tr>
                <tr *ngFor="let a of alumnofk"><td>{{labels[a]}}</td><td>{{getalumno(lowerUpper[a])?.apellido}} {{getalumno(lowerUpper[a])?.nombre}}</td></tr>
                <tr><th colspan="2">&nbsp;</th></tr>
              </tbody>
            </table>

          </div>
          <div class="tab-pane fade" id="nav-apoderado" role="tabpanel" aria-labelledby="nav-apoderado-tab">
            <table class="table table-bordered table-sm">
              <thead>
                <tr><th colspan="2"  style="color:white;" [style.background-color]="tablehead"><em [class]="getBiClass('/fichaalumno')"></em>&nbsp;Ficha Alumno  [
                  {{getalumno('apellido1')}} {{getalumno('apellido2')}} {{getalumno('nombre')}}]</th></tr>
              </thead>
              <tbody>
                <tr *ngFor="let a of apoderados | keyvalue"><td>{{apoderados[setAny([a.key])]}}</td><td>{{getapoderado(a.key)}}</td></tr>
                <tr *ngFor="let a of apoderadofk"><td>{{labels[a]}}</td><td>{{getapoderado(lowerUpper[a])?.apellido}} {{getapoderado(lowerUpper[a])?.nombre}}</td></tr>
                <tr><th colspan="2"><b>&nbsp;</b></th></tr>
              </tbody>
            </table>

          </div>

          <div class="tab-pane fade" id="nav-matricula" role="tabpanel" aria-labelledby="nav-matricula-tab">
            <table class="table table-bordered table-sm">
              <thead>
                <tr><th colspan="2"  style="color:white;" [style.background-color]="tablehead"><em [class]="getBiClass('/fichaalumno')"></em>&nbsp;Matricula  [
                  {{getalumno('apellido1')}} {{getalumno('apellido2')}} {{getalumno('nombre')}}]</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let a of matriculas | keyvalue"><td>{{matriculas[setAny([a.key])]}}</td><td>{{getmatricula(a.key)}}</td></tr>
                <tr *ngFor="let a of matriculafk"><td>{{lowerUpper[a]}}</td><td>{{getmatricula(lowerUpper[a])?.apellido}} {{getmatricula(lowerUpper[a])?.nombre}}</td></tr>
                <tr><th colspan="2">&nbsp;</th></tr>
              </tbody>
            </table>

          </div>

          <!--div class="tab-pane fade" id="nav-matricula" role="tabpanel" aria-labelledby="nav-matricula-tab">
            <table class="table table-bordered table-sm">
              <thead>
                <tr><th colspan="2"  style="color:white;" [style.background-color]="tablehead"><em [class]="getBiClass('/fichaalumno')"></em>&nbsp;Ficha Alumno [
                  {{getalumno('apellido1')}} {{getalumno('apellido2')}} {{getalumno('nombre')}}]</th></tr>
              </thead>
                <tr *ngFor="let a of matriculas | keyvalue"><td>{{matriculas[setAny([a.key])]}}</td><td>{{getmatricula(a.key)}}</td></tr>
                <tr *ngFor="let a of matriculafk"><td>{{lowerUpper[a]}}</td><td>{{getmatricula(lowerUpper[a])?.apellido}} {{getmatricula(lowerUpper[a])?.nombre}}</td></tr>
                <tr><th colspan="2">&nbsp;</th></tr>
              <tbody>
              </tbody>
            </table>

          </div-->


          <div class="tab-pane fade" id="nav-anotacion" role="tabpanel" aria-labelledby="nav-apoderado-tab">
            <table class="table table-bordered table-sm">
              <thead>
                <tr><th colspan="3"  style="color:white;" [style.background-color]="tablehead"><em [class]="getBiClass('/fichaalumno')"></em>&nbsp;Ficha Alumno  [
                  {{getalumno('apellido1')}} {{getalumno('apellido2')}} {{getalumno('nombre')}}]</th></tr>
                <tr><th style="width:10%">Fecha</th><th style="width:20%">Hora</th><th style="width:70%">Observaciones</th></tr>
              </thead>

              <tbody><tr *ngFor="let a of anotacion"><td style="width:20%">{{a.fecha}}</td><td style="width:10%">{{a.hora}}</td><td style="width:70%">{{a.texto}}</td></tr></tbody>


              <tbody>
              </tbody>
            </table>

          </div>

        </div>
  </div>


      </div>


  </div>
</div>
